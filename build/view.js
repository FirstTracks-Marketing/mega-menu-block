import*as e from"@wordpress/interactivity";var n={d:(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const t=(u={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},s={},n.d(s,u),s),{state:o,actions:c}=(0,t.store)("outermost/mega-menu",{state:{get isMenuOpen(){return Object.values(o.menuOpenedBy).filter(Boolean).length>0},get menuOpenedBy(){return(0,t.getContext)().menuOpenedBy}},actions:{toggleMenuOnClick(){const e=(0,t.getContext)(),{ref:n}=(0,t.getElement)();window.document.activeElement!==n&&n.focus(),o.menuOpenedBy.click||o.menuOpenedBy.focus?(c.closeMenu("click"),c.closeMenu("focus")):(e.previousFocus=n,c.openMenu("click"))},closeMenuOnClick(){c.closeMenu("click"),c.closeMenu("focus")},handleMenuKeydown(e){if(o.menuOpenedBy.click&&"Escape"===e?.key)return c.closeMenu("click"),void c.closeMenu("focus")},handleMenuFocusout(e){const n=(0,t.getContext)(),o=n.megaMenu?.querySelector(".wp-block-outermost-mega-menu__menu-container");(null===e.relatedTarget||!o?.contains(e.relatedTarget)&&e.target!==window.document.activeElement)&&(c.closeMenu("click"),c.closeMenu("focus"))},openMenu(e="click"){o.menuOpenedBy[e]=!0},closeMenu(e="click"){const n=(0,t.getContext)();o.menuOpenedBy[e]=!1,o.isMenuOpen||(n.megaMenu?.contains(window.document.activeElement)&&n.previousFocus?.focus(),n.previousFocus=null,n.megaMenu=null)}},callbacks:{initMenu(){const e=(0,t.getContext)(),{ref:n}=(0,t.getElement)();o.isMenuOpen&&(e.megaMenu=n)},initNav(){const e=(0,t.getContext)(),n=window.matchMedia(`(max-width: ${NAVIGATION_MOBILE_COLLAPSE})`);function o(n){e.isCollapsed=n.matches}return e.isCollapsed=n.matches,n.addEventListener("change",o),()=>{n.removeEventListener("change",o)}}}});var u,s;